<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print">

    <title>{{blogname}}--2_MPI</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>2_MPI</h1>
        <h2>{{ subtitle }}</h2>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
		<a id="blog" class="anchor" href="#blog" aria-hidden="true">
			<span aria-hidden="true" class="octicon octicon-link"></span>
		</a>
			blog
		</h1>
		<h1 id="mpi">MPI</h1>
<p>Message Passing Interface</p>
<ul>
<li>是一种标准或规范的代表，而不特指某一个对它的具体实现。迄今为止所有的并行计算机制造商都提供对MPI 的支持</li>
<li>最终目的是服务于进程间通信的目标</li>
<li>提供一个高效、可扩展、统一的并行编程环境</li>
<li>是一个库，不是一门语言，提供库函数/过程供C/FORTRAN 调用</li>
</ul>
<p>目标</p>
<ol>
<li>较高的通信性能；</li>
<li>较好的程序可移植性；</li>
<li>强大的功能</li>
</ol>
<h2 id="21-mpi">2.1 MPI进程</h2>
<h3 id="mpi_1">MPI进程</h3>
<p>MPI程序中一个独立参与通信的个体</p>
<h3 id="mpi_2">MPI进程组</h3>
<p>MPI程序中由部分或全部进程构成的有序集合,每个进程都被赋予一个所在进程组中唯一的序号(rank)，用于在该组中标识该进程，称为进程号，取值从0开始，0，1，2......</p>
<h2 id="22-mpi-communicator">2.2 MPI Communicator</h2>
<h3 id="mpi-communicator">MPI Communicator</h3>
<p>MPI通信子,(MPI通信域,MPI通信器,)<b>包括进程组(Progress Group)和通信上下文(Communication Context),</b>同于描述通信进程之间的通信关系</p>
<p>MPI程序启动时自动建立通信器MPI_COMM_WORLD,包含程序中所有MPI进程
,之后用户可以根据自己的需要，建立其它的进程组</p>
<p><b>进程间通信必须通过通信器进行</b></p>
<h4 id="communication-context">Communication Context</h4>
<p>通信上下文：安全地区别不同的通信以免相互干扰，<font color='red'>通信上下文不是显式的对象，</font>只是作为通信域的一部分出现</p>
<h2 id="23-mpi">2.3 MPI消息</h2>
<p>一个消息指进程之间的一次数据交换</p>
<h4 id="_1"><font color='red'><b>消息构成</b></font></h4>
<ul>
<li>Message Buffer<ul>
<li>buf<ul>
<li>起始地址</li>
</ul>
</li>
<li>count<ul>
<li>个数</li>
</ul>
</li>
<li>datatype<ul>
<li>数据类型</li>
</ul>
</li>
</ul>
</li>
<li>Message Envelop<ul>
<li>dest<ul>
<li>源/目标进程</li>
</ul>
</li>
<li>tag<ul>
<li>消息标签</li>
</ul>
</li>
<li>comm<ul>
<li>通信子</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="24-mpi">2.4 MPI编程特征</h2>
<ul>
<li>在函数和数据类型定义中, 接MPI_之后的第一个字母大写，其余全部为小写字母，即MPI_Xxxx_xxx形式</li>
<li>除MPI_WTIME和MPI_WTICK外，所有C 函数调用之后都将返回一个错误信息码</li>
<li>MPI 的所有C 函数中的输出参数用的都是指针</li>
</ul>
<h2 id="25-mpi">2.5 MPI数据类型</h2>
<ul>
<li>MPI datatype          <ul>
<li>C datatype    </li>
</ul>
</li>
<li>MPI_CHAR              <ul>
<li>signed char   </li>
</ul>
</li>
<li>MPI_SHORT             <ul>
<li>signed short int  </li>
</ul>
</li>
<li>MPI_INT               <ul>
<li>signed int    </li>
</ul>
</li>
<li>MPI_LONG              <ul>
<li>signed long int   </li>
</ul>
</li>
<li>MPI_UNSIGNED_CHAR     <ul>
<li>unsigned char </li>
</ul>
</li>
<li>MPI_UNSIGNED_SHORT        <ul>
<li>unsigned short int    </li>
</ul>
</li>
<li>MPI_UNSIGNED_INT      <ul>
<li>unsigned int  </li>
</ul>
</li>
<li>MPI_UNSIGNED_LONG     <ul>
<li>unsigned long int </li>
</ul>
</li>
<li>MPI_FLOAT             <ul>
<li>float </li>
</ul>
</li>
<li>MPI_DOUBLE            <ul>
<li>double    </li>
</ul>
</li>
<li>MPI_LONG_DOUBLE       <ul>
<li>long double   </li>
</ul>
</li>
</ul>
<h2 id="27">2.7 编译运行</h2>
<ul>
<li>mpiexec  – n 2 d:\mpijob\cpi.exe <ul>
<li>在当前节点上启动两个进程</li>
<li>多个进程使用同一个标准输出。</li>
<li>只有一个进程能得到标准输入。</li>
</ul>
</li>
</ul>

      </section>
    </div>

    
  </body>
</html>
